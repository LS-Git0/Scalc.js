function calculator(options={}){$(function(){$("#calculator").html('<div class="container"><div class="calculator"><div class="screen"></div><input type="hidden" value=""><ul><li><a href="c">C</a></li><li><a href="%">%</a></li><li><a href="/">/</a></li><li><a href="*">*</a></li><li><a href="7">7</a></li><li><a href="8">8</a></li><li><a href="9">9</a></li><li><a href="-">-</a></li><li><a href="4">4</a></li><li><a href="5">5</a></li><li><a href="6">6</a></li><li><a href="+">+</a></li><li><a href="1">1</a></li><li><a href="2">2</a></li><li><a href="3">3</a></li><li><a href="=" class="equal">=</a></li><li><a href="0" class="zero">0</a></li><li><a href="." class="dot">.</a></li></ul></div></div>'),!1!==options.draggable&&$("#calculator").draggable();var memory=$('#calculator input[type="hidden"]'),screen=$("#calculator .screen"),reset=function(){memory.val(""),screen.html("")},insert=function(a){"/"===a?screen.append("&divide;"):screen.append(a),memory.val(memory.val()+a)},total=function(){memory.val(eval(memory.val())),screen.html(memory.val())};$("#calculator a").mousedown(function(){$(this).addClass("button-pressed")}).mouseup(function(){$(this).removeClass("button-pressed")}).click(function(a){a.preventDefault();var e=$(this).attr("href");"="===e?total():"c"===e?reset():insert(e)}),$(this).keypress(function(a){var e="",l=a.which?a.which:a.keyCode;e=String.fromCharCode(l),$('#calculator a[href="'+e+'"]').addClass("button-pressed"),(e=e.replace(/[^0-9\/\*\-\+\.\%]/g,""))?insert(e):13===l&&total()}),$(this).keydown(function(a){var e=a.which?a.which:a.keyCode;27===e?$('#calculator a[href="c"]').addClass("button-pressed"):13===e&&$('#calculator a[href="="]').addClass("button-pressed")}),$(this).keyup(function(a){$("#calculator a").removeClass("button-pressed");var e=a.which?a.which:a.keyCode;if(27===e)reset();else if(8===e){var l=screen.html();l=l.substr(0,l.length-1),screen.html(l),memory.val(l)}})})}
